import{_ as P,u as T,o as j,r as m,P as I,e as f,f as M,g as e,h as g,j as h,w as o,i as s,t as b,d as Y,D as w,Q as R,F as U,R as A,p as H,y as L,z as O,s as Q,B as $,E as q,S as G,n as J,T as K,v as W,x as X}from"./index-0x5QSI-3.js";const Z={class:"form"},ee={class:"pagination-info"},te={__name:"index",setup(ae){const x=T();j(()=>{_()});const r=m({pageNum:1,pageSize:10}),i=m({out_trade_no:""}),E=()=>{_(i)},p=m({list:[],total:0}),_=(l={})=>{I({...r,...l}).then(({data:a})=>{const{list:d,total:u}=a.data;p.list=d,p.total=u})},v=l=>{r.pageSize=l},C=l=>{r.pageNum=l},k=()=>({已取消:"info",待支付:"warning",已完成:"success"}),z=l=>{A({id:l}).then(({data:a})=>{a.code===1e4&&_()})};return(l,a)=>{const d=H,u=L,y=O,c=Q,S=$,n=q,D=G,N=J,B=K,F=W,V=X;return f(),M(U,null,[e(d,{route:g(x)},null,8,["route"]),h("div",Z,[e(S,{inline:!0,model:i},{default:o(()=>[e(y,{props:"out_trade_no"},{default:o(()=>[e(u,{modelValue:i.out_trade_no,"onUpdate:modelValue":a[0]||(a[0]=t=>i.out_trade_no=t),placeholder:"订单号"},null,8,["modelValue"])]),_:1}),e(y,null,{default:o(()=>[e(c,{type:"primary",onClick:E},{default:o(()=>a[2]||(a[2]=[s("查询")])),_:1})]),_:1})]),_:1},8,["model"])]),e(F,{data:p.list},{default:o(()=>[e(n,{prop:"out_trade_no",label:"订单号",width:"150",fixed:"left"}),e(n,{prop:"hospital_name",label:"就诊医院"}),e(n,{prop:"service_name",label:"陪诊服务"}),e(n,{label:"陪护师头像"},{default:o(t=>[e(D,{style:{width:"40px",height:"40px"},src:t.row.companion.avatar},null,8,["src"])]),_:1}),e(n,{label:"陪护师手机号",width:"120"},{default:o(t=>[s(b(t.row.companion.mobile),1)]),_:1}),e(n,{prop:"price",label:"总价"}),e(n,{prop:"paidPrice",label:"已付"}),e(n,{label:"下单时间",width:"120"},{default:o(t=>[s(b(g(Y)(t.row.order_start_time).format("YYYY-MM-DD")),1)]),_:1}),e(n,{label:"订单状态"},{default:o(t=>[e(N,{type:k(t.row.trade_state)},{default:o(()=>[s(b(t.row.trade_state),1)]),_:2},1032,["type"])]),_:1}),e(n,{prop:"service_state",label:"接单状态"}),e(n,{prop:"tel",label:"联系人手机号",width:"120"}),e(n,{label:"操作",width:"100",fixed:"right"},{default:o(t=>[t.row.trade_state==="待支付"?(f(),w(B,{key:0,"confirm-button-text":"是","cancel-button-text":"否",type:"primary",icon:g(R),"icon-color":"#626AEF",title:"是否确认完成?",onConfirm:oe=>z(t.row.out_trade_no)},{reference:o(()=>[e(c,{type:"primary",link:""},{default:o(()=>a[3]||(a[3]=[s("服务完成")])),_:1})]),_:2},1032,["icon","onConfirm"])):(f(),w(c,{key:1,type:"primary",link:"",disabled:""},{default:o(()=>a[4]||(a[4]=[s("暂无服务")])),_:1}))]),_:1})]),_:1},8,["data"]),h("div",ee,[e(V,{"current-page":r.pageNum,"onUpdate:currentPage":a[1]||(a[1]=t=>r.pageNum=t),"page-size":r.pageSize,background:!1,size:"small",layout:"total, prev, pager, next",total:p.total,onSizeChange:v,onCurrentChange:C},null,8,["current-page","page-size","total"])])],64)}}},le=P(te,[["__scopeId","data-v-992958fd"]]);export{le as default};
